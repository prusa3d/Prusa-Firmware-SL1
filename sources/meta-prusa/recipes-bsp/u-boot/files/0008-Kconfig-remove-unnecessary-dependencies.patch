From 280b4ea9944ddb4b2a50e61de3fc7dd22d733c01 Mon Sep 17 00:00:00 2001
From: Roman Beranek <roman.beranek@prusa3d.cz>
Date: Mon, 12 Jul 2021 04:15:57 +0200
Subject: [PATCH] Kconfig: remove unnecessary dependencies

---
 arch/arm/Kconfig            | 4 ++--
 arch/arm/mach-sunxi/Kconfig | 5 +----
 2 files changed, 3 insertions(+), 6 deletions(-)

diff --git a/arch/arm/Kconfig b/arch/arm/Kconfig
index 36c9c2fecd..9bb4d50554 100644
--- a/arch/arm/Kconfig
+++ b/arch/arm/Kconfig
@@ -951,9 +951,9 @@ config ARCH_SUNXI
 	select CMD_USB if DISTRO_DEFAULTS
 	select CLK
 	select DM
-	select DM_ETH
+	select DM_ETH if DISTRO_DEFAULTS
 	select DM_GPIO
-	select DM_KEYBOARD
+	select DM_KEYBOARD if DISTRO_DEFAULTS
 	select DM_MMC if MMC
 	select DM_SCSI if SCSI
 	select DM_SERIAL
diff --git a/arch/arm/mach-sunxi/Kconfig b/arch/arm/mach-sunxi/Kconfig
index fc71e1a6a1..f8de820e12 100644
--- a/arch/arm/mach-sunxi/Kconfig
+++ b/arch/arm/mach-sunxi/Kconfig
@@ -275,11 +275,8 @@ config MACH_SUN9I
 config MACH_SUN50I
 	bool "sun50i (Allwinner A64)"
 	select ARM64
-	select SPI
 	select DM_I2C
-	select DM_SPI if SPI
-	select DM_SPI_FLASH
-	select PHY_SUN4I_USB
+	select PHY_SUN4I_USB if USB
 	select SUN6I_PRCM
 	select SUNXI_DE2
 	select SUNXI_GEN_SUN6I
-- 
2.32.0

